package song.common.toolkit.task;import song.common.lang.CharsetHelper;import song.common.net.http.HttpConnection;import song.common.result.ActionResult;import song.common.result.GridMapResult;import song.common.toolkit.serializer.IDataSerializer;import song.common.toolkit.serializer.SerializerFactory;import java.io.IOException;/** * description:     根据不同的处理方式获取数据 * author:          song * createDate:      2018/6/27 */public class HandleDataHelper {    public static GridMapResult getGridResult(TaskHandleType type, String handleEntry) throws IOException {        if (type == TaskHandleType.httpService) {            //如果是http服务模式            HttpConnection connection = new HttpConnection(handleEntry);            String data = connection.doGet(CharsetHelper.getDefault());            IDataSerializer serializer = SerializerFactory.getJSONSerializer();            ActionResult actionResult = serializer.parseObject(data, ActionResult.class);            if (actionResult.isSuccess()) {                Object obj = actionResult.getData();                return obj == null ? null : serializer.parseObject(obj.toString(), GridMapResult.class);            }        } else if (type == TaskHandleType.javaHandler) {            //通过反射执行方法        }        return null;    }}