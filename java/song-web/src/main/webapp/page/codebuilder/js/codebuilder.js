window.viewCode = new cmp.view({    builder:function () {        cmp.builder.treePanel("treeCode", {            layout: {title: "菜单", width: 250}        }).queryPanel("queryCode",{            column:1,            items:[                {field:"project",label:"项目名称",control:"combobox",dataOptions:{                    valueField:"id", textField:"projectName"                }}            ]        }).panel("panelCode",{region:"center"},cmp.template.iframe("/page/common/uploader.jsp","iframeCode"));        return this;    },    ready:function () {        var that=this;        this.query=new cmp.query("#queryCode",{            onQuery:function () {            }        });        var project =new cmp.combobox(this.query.get("project"),{            onChange:function (newValue,oldValue) {                that.tree.load()            }        });        project.reload(this.routeUrl("getProjectList"));        cmp.layout();        this.tree=new cmp.tree("#treeCode",{            url:this.routeUrl("loadTree"),            menu:[                {action:"appendNode",onClick:function (node) {                    this.append(node, [{text: "新增的节点"}]);                }},                {action:"removeNode",onClick:function (node) {                    this.remove(node, that.routeUrl("removeNode"));                }},                {action:"editNode",onClick:function (node) {                    this.update(node,{text:"修改过的节点"});                }},                {action:"insertNode",onClick:function (node) {                    this.insert(node,{text:"同级节点"});                }}            ]        });    },    //获取编辑器对象    editor:function () {        var iframe=song.dom("iframeCode");        return song.iframe.window(iframe).editor;    }});