window.treeView=new cmp.view({    builder:function () {        cmp.builder.treePanel("treeDemo",{            layout:{title:"菜单",width:250}        }).queryPanel("queryDemo",{            items:[                {field:"project",label:"项目名称",control:"combobox"},                {field:"project1",label:"项目名称",control:"text",value:"2018-03"},                {field:"project2",label:"项目名称",control:"textbox"},                {field:"project3",label:"项目名称",control:"textbox"}            ]        }).gridPanel("gridDemo").dialogForm("dialogDemo","formDemo",{            column:3,            items:[                {field:"code",label:"流程编码",control:"textbox",value:""},                {field:"name",label:"流程名称",control:"textbox",value:"",colspan:2,dataOptions:{required:true}},                {field:"project",label:"项目名称",control:"textbox",value:""},                {field:"comment",label:"说明",control:"textbox",value:""},                {field:"comment1",label:"说明",control:"textbox",value:""},                {field:"comment2",label:"说明",control:"textbox",value:""},                {field:"comment3",label:"说明",control:"textbox",value:""},                {field:"comment4",label:"说明",control:"textbox",value:""}            ],            hidden:[                {field:"id"}            ]        });        return this;    },    ready:function () {        var that=this;        this.query=new cmp.query("#queryDemo",{            onQuery:function () {                that.grid.load();            }        });        //初始化combox的值        var combox=new cmp.combobox(this.query.get("project"));        combox.loadData([{            text: "test1", value: "value1"        }]);        var yearmonth=new cmp.yearmonth(this.query.get("project1"));        cmp.layout();        this.tree=new cmp.tree("#treeDemo",{            url:this.routeUrl("loadTree"),            menu:[                {action:"appendNode",onClick:function (node) {                    this.append(node, [{text: "新增的节点"}]);                }},                {action:"removeNode",onClick:function (node) {                    this.remove(node, that.routeUrl("removeNode"));                }},                {action:"editNode",onClick:function (node) {                    this.update(node,{text:"修改过的节点"});                }},                {action:"insertNode",onClick:function (node) {                    this.insert(node,{text:"同级节点"});                }}            ]        });        this.grid = new cmp.grid("#gridDemo", {            url: that.routeUrl("loadGrid"),            datakey:"id",            onBeforeLoad:function (params) {                $.extend(params,that.query.getValues());            },            toolbar:[                {action:"add",onClick:function () {                    that.dialog.open("新增流程");                }},"-",                {action:"remove",onClick:function () {                    that.grid.removeChecked(that.routeUrl("removeRows"));                }}            ],            operateColumn: {                menu:[                    {action:"edit",onClick:function (id) {                        that.dialog.open("修改流程");                        that.form.load(that.idRouteUrl("loadForm",id));                    }},                    {action:"remove",onClick:function (id) {                        that.grid.removeRow(that.idRouteUrl("removeRows",id));                    }}                ]            },            columns: [[                {field: "code", title: "流程编码", width: 100},                {field: "name", title: "流程名称", width: 100},                {field: "project", title: "项目名称", width: 100}            ]]        });        this.dialog=new cmp.dialog("#dialogDemo",{            width:"800",            height:"500",            onClose:function () {                that.form && that.form.reset();            }        });        this.form=new cmp.form("#formDemo",{            url:that.routeUrl("submitForm"),            button:[                {action:"save",onClick:function () {                    that.form.submit();                }},                {action:"cancel",onClick:function () {                    that.dialog.close();                }}            ],            onAfterSubmit:function (isSuccess) {                if(isSuccess){                    that.dialog.close();                    that.grid.reload();                }            }        });    }});